---
//@ts-nocheck
import Layout from "../../layouts/Layout.astro";
import Slideshow from "../components/Slideshow.astro";
export async function getStaticPaths(){
    const data = await fetch("https://ycttsezrvlztlajbkdxt.supabase.co/rest/v1/colada_archive_", {
    method: "GET",
    headers: {
        apikey: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InljdHRzZXpydmx6dGxhamJrZHh0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTU5MzY2NjksImV4cCI6MjAzMTUxMjY2OX0.W2Dcw1gmLKcXLWOcWXBdxYBuBiVOjgi8xfwwII3329o"
    }
}).then(response => response.json());

  return data.map((show) => {
        return{
            params: {slug: show.id},
            props: {myData: show},

        };
    });
  } 
const {myData} = Astro.props;
console.log(myData);
---

<Layout title={myData.id}>

  <div class="single">
  <div class="slideshow-container">
    <div class="mySlides">
      <img src={myData.image1}>
    </div>
  
    <div class="mySlides">
      <img src={myData.image2}>
    </div>
  
    <div class="mySlides">
      <img src={myData.image3}>
    </div>
  
    <div class="mySlides">
      <img src={myData.image4}>
    </div>
  
    <!-- Next and previous buttons -->
    <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
    <a class="next" onclick="plusSlides(1)">&#10095;</a>
  </div>

  <div class="tekst">
    <div class="hej">
 <h3>{myData.brand}</h3>
 <h1>{myData.type}</h1>
 <h3>{myData.price}</h3>

<h2>Description</h2>

<p>{myData.size}</p>
<p>{myData.measurements}</p>
<p>{myData.color}</p>
<p>{myData.material}</p>
<p>{myData.story}</p>
<p>{myData.spots}</p>
</div>
</div>
</div>
</Layout>

<style>
  @media (min-width: 800px){
    .prev, .next {
      display: none;
    }
  
    .single {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
    }

    img {
      margin: 60px -180px -60px;
      width:130%;
    }

    .tekst {
      margin-top: 100px;
    }

    .hej {
      position: fixed;
    }
  }
  </style>